{"ast":null,"code":"var _jsxFileName = \"/Users/arnaudavocatgros/Documents/GitHub/AReaExplorerWebApp/src/Header.js\",\n    _s = $RefreshSig$();\n\nimport './Header.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'jquery/dist/jquery.min.js';\nimport bootstrap from 'bootstrap/dist/js/bootstrap.min.js';\nimport SignUpModal from \"./SignUpModal\";\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Header(props) {\n  _s();\n\n  var username = \"\";\n  var password = \"\";\n  const [cookies, setCookies] = useState(props.cookies);\n  const [isLogged, setIsLogged] = useState(props.isLogged);\n  console.log(props.logged);\n  /*useEffect(()=>{\n    setCookies(props.cookies);\n    cook = props.cookies;\n    console.log(\"useeffect\");\n  }, [cookies]);*/\n\n  /*var cookies = props.cookies;\n  const [username, setUsername] = useState(props.cookies.username);\n  const [password, setPassword] = useState('');\n  const [logged, setLogged] = useState(props.cookies.isLogged);\n  console.log(\"cookies.isLogged.header = \" + props.cookies.isLogged);\n  console.log(\"logged const header = \" + logged);\n   \n  useEffect(() => {\n    if(props.cookies.isLogged !== logged){\n      setLogged(props.cookies.isLogged);\n    }\n    if(props.cookies !== cookies){\n      cookies = props.cookies;\n      setUsername(props.cookies.username);\n      setLogged(props.cookies.isLogged);\n    }\n    console.log(\"changement header = \" + logged);\n  })*/\n\n  /*useEffect(() => {\n    console.log(props.cookies)\n    if(props.cookies.isLogged === 'true'){\n      props.handleLoging('true');\n    }\n    else if(props.cookies.isLogged === 'false'){\n        props.handleLoging('false');\n    }\n  })*/\n\n  useEffect(() => {\n    if (props.cookies.username !== null && props.cookies.username !== undefined) {\n      console.log(\"isLogged à true\");\n      var updatedCookies = props.cookies;\n      updatedCookies.isLogged = 'true';\n      setCookies(updatedCookies);\n    } else {\n      setIsLogged(props.cookies.isLogged);\n    }\n  }, [props.cookies, username]);\n  useEffect(() => {\n    if (cookies === null) {\n      var updatedCookies = new Object(); // changer ca pour le faire a la fin du setcookies\n\n      updatedCookies.isLogged = 'false';\n      setCookies(updatedCookies);\n    } else {\n      setIsLogged(props.cookies.isLogged);\n    }\n  }, [cookies]);\n\n  function login() {\n    fetch(\"https://lauriari-arvr.azurewebsites.net/auth/login\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    }).then(response => response.json()).then(data => cblogin(data)).catch(error => {\n      wrongLogin(error);\n    });\n    props.handleLoging('Loading');\n  }\n\n  function register(u, p) {\n    username = u;\n    password = p;\n    fetch(\"https://lauriari-arvr.azurewebsites.net/auth/register\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: u,\n        password: p,\n        contentManager: 1\n      })\n    }).then(response => {\n      login();\n    });\n  }\n\n  function disconnect() {\n    props.handleCookie('false', 'token');\n    props.handleCookie('false', 'username');\n    props.handleCookie('true', 'isLogged', 'false', {\n      path: '/'\n    });\n    setIsLogged('false'); //setCookies(null); // probleme de synchro ici \n    //setLogged('false');\n  }\n\n  function cblogin(data) {\n    props.handleCookie('true', 'token', data.message, {\n      path: '/'\n    });\n    props.handleCookie('true', 'username', username, {\n      path: '/'\n    });\n    props.handleCookie('true', 'isLogged', 'true', {\n      path: '/'\n    });\n    setIsLogged(\"true\"); //setLogged('true');\n  }\n\n  function wrongLogin(error) {\n    showModal(\"Sign-In-Modal-Error\");\n  }\n\n  console.log(\"isLogged = \" + isLogged);\n\n  if (isLogged === 'true') {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        class: \"navbar bg-dark\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"left-buttons d-flex justify-content-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            class: \"navbar-brand\",\n            style: {\n              width: \"8%\",\n              margin: \"0\"\n            },\n            href: \"#\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/logo.jpg\",\n              alt: \"\",\n              width: \"100%\",\n              class: \"d-inline-block align-text-top\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 77\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"link p-2 bd-highlight\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => props.handlePage('home'),\n              class: \"btn btn-link nav-link active text-light fs-5\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"link p-2 bd-highlight\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => props.handlePage('workspace'),\n              class: \"btn btn-link nav-link text-light fs-5\",\n              children: \"My Workspace\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right-buttons d-flex justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: disconnect,\n            children: cookies.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  } else if (isLogged === 'false') {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        class: \"navbar bg-dark\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"left-buttons d-flex justify-content-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"link p-2 bd-highlight\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => props.handlePage('home'),\n              class: \"btn btn-link nav-link active text-light fs-5\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"./public/logo.jpg\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"link p-2 bd-highlight\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => props.handlePage('home'),\n              class: \"btn btn-link nav-link active text-light fs-5\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"link p-2 bd-highlight\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => props.handlePage('workspace'),\n              class: \"btn btn-link nav-link text-light fs-5\",\n              children: \"My Workspace\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right-buttons d-flex justify-content-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-2 bd-highlight\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"btn btn-outline-light\",\n              onClick: () => showModal('Sign-In-Modal'),\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-2 bd-highlight\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"btn btn-warning\",\n              onClick: () => showModal('Sign-Up-Modal'),\n              children: \"Sign-Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SignUpModal, {\n        handleRegistration: register\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"modal fade\",\n        id: \"Sign-In-Modal\",\n        \"aria-hidden\": \"true\",\n        \"aria-labelledby\": \"exampleModalToggleLabel\",\n        tabindex: \"-1\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-dialog modal-dialog-centered\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"modal-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                class: \"modal-title\",\n                id: \"exampleModalToggleLabel\",\n                children: \"Login to your account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                class: \"btn-close\",\n                \"data-bs-dismiss\": \"modal\",\n                \"aria-label\": \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"modal-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"input-group mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"input-group-text\",\n                  id: \"basic-addon1\",\n                  children: \"@\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  onChange: e => username = e.target.value,\n                  placeholder: \"Username\",\n                  \"aria-label\": \"Username\",\n                  \"aria-describedby\": \"basic-addon1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"input-group mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"input-group-text\",\n                  id: \"basic-addon1\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  class: \"form-control\",\n                  onChange: e => password = e.target.value,\n                  placeholder: \"Password\",\n                  \"aria-label\": \"Username\",\n                  \"aria-describedby\": \"basic-addon1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  class: \"btn btn-primary justify-content-center\",\n                  \"data-bs-dismiss\": \"modal\",\n                  onClick: () => login(\"Sign-In-Modal\"),\n                  children: \"Sign-In\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"modal fade\",\n        id: \"Sign-In-Modal-Error\",\n        \"aria-hidden\": \"true\",\n        \"aria-labelledby\": \"exampleModalToggleLabel\",\n        tabindex: \"-1\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-dialog modal-dialog-centered\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"modal-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                class: \"modal-title\",\n                id: \"exampleModalToggleLabel\",\n                children: \"Login to your account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                class: \"btn-close\",\n                \"data-bs-dismiss\": \"modal\",\n                \"aria-label\": \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"modal-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"input-group mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"input-group-text\",\n                  id: \"basic-addon1\",\n                  children: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control is-invalid\",\n                  onChange: e => username = e.target.value,\n                  id: \"validationServerUsername\",\n                  \"aria-describedby\": \"inputGroupPrepend3 validationServerUsernameFeedback\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"validationServerUsernameFeedback\",\n                  class: \"invalid-feedback\",\n                  children: \"Enter your username again.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"input-group mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"input-group-text\",\n                  id: \"basic-addon1\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  class: \"form-control is-invalid\",\n                  onChange: e => password = e.target.value,\n                  id: \"validationServerUsername\",\n                  \"aria-describedby\": \"inputGroupPrepend3 validationServerUsernameFeedback\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"validationServerUsernameFeedback\",\n                  class: \"invalid-feedback\",\n                  children: \"Enter your password again.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  class: \"btn btn-primary justify-content-center\",\n                  \"data-bs-dismiss\": \"modal\",\n                  onClick: () => login(\"Sign-In-Modal\"),\n                  children: \"Sign-In\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  } else {\n    setIsLogged('false');\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        class: \"navbar bg-dark\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"left-buttons d-flex justify-content-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"link p-2 bd-highlight\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => props.handlePage('home'),\n              class: \"btn btn-link nav-link active text-light fs-5\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"./public/logo.jpg\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"link p-2 bd-highlight\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => props.handlePage('home'),\n              class: \"btn btn-link nav-link active text-light fs-5\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"link p-2 bd-highlight\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => props.handlePage('workspace'),\n              class: \"btn btn-link nav-link text-light fs-5\",\n              children: \"My Workspace\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right-buttons d-flex justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"spinner-border text-light\",\n            role: \"status\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"visually-hidden\",\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n}\n\n_s(Header, \"Z/7fJcpciSrlVktdj+Lm4Bsjoo4=\");\n\n_c = Header;\n;\n\nfunction closeModal(modal) {\n  var myModal = new bootstrap.Modal(document.getElementById(modal), {\n    keyboard: false\n  });\n  myModal.modal('hide');\n}\n\n;\n\nfunction showModal(modal) {\n  var myModal = new bootstrap.Modal(document.getElementById(modal), {\n    keyboard: false\n  });\n  myModal.show();\n}\n\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/Users/arnaudavocatgros/Documents/GitHub/AReaExplorerWebApp/src/Header.js"],"names":["bootstrap","SignUpModal","React","useEffect","useState","Header","props","username","password","cookies","setCookies","isLogged","setIsLogged","console","log","logged","undefined","updatedCookies","Object","login","fetch","method","headers","body","JSON","stringify","then","response","json","data","cblogin","catch","error","wrongLogin","handleLoging","register","u","p","contentManager","disconnect","handleCookie","path","message","showModal","width","margin","handlePage","e","target","value","closeModal","modal","myModal","Modal","document","getElementById","keyboard","show"],"mappings":";;;AAAA,OAAO,cAAP;AACA,OAAO,sCAAP;AACA,OAAO,2BAAP;AACA,OAAOA,SAAP,MAAsB,oCAAtB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA0BC,QAA1B,QAAyC,OAAzC;;;;AAGA,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;AAAA;;AACrB,MAAIC,QAAQ,GAAG,EAAf;AACA,MAAIC,QAAQ,GAAG,EAAf;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAACE,KAAK,CAACG,OAAP,CAAtC;AACA,QAAM,CAACE,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAACE,KAAK,CAACK,QAAP,CAAxC;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYR,KAAK,CAACS,MAAlB;AAEA;AACF;AACA;AACA;AACA;;AAEE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEEZ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGG,KAAK,CAACG,OAAN,CAAcF,QAAd,KAA2B,IAA3B,IAAmCD,KAAK,CAACG,OAAN,CAAcF,QAAd,KAA2BS,SAAjE,EAA2E;AACzEH,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,UAAIG,cAAc,GAAGX,KAAK,CAACG,OAA3B;AACAQ,MAAAA,cAAc,CAACN,QAAf,GAA0B,MAA1B;AACAD,MAAAA,UAAU,CAACO,cAAD,CAAV;AACD,KALD,MAMI;AACFL,MAAAA,WAAW,CAACN,KAAK,CAACG,OAAN,CAAcE,QAAf,CAAX;AACD;AACF,GAVQ,EAUN,CAACL,KAAK,CAACG,OAAP,EAAgBF,QAAhB,CAVM,CAAT;AAYAJ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGM,OAAO,KAAK,IAAf,EAAoB;AAClB,UAAIQ,cAAc,GAAG,IAAIC,MAAJ,EAArB,CADkB,CACiB;;AACnCD,MAAAA,cAAc,CAACN,QAAf,GAA0B,OAA1B;AACAD,MAAAA,UAAU,CAACO,cAAD,CAAV;AACD,KAJD,MAKI;AACFL,MAAAA,WAAW,CAACN,KAAK,CAACG,OAAN,CAAcE,QAAf,CAAX;AACD;AACF,GATQ,EASN,CAACF,OAAD,CATM,CAAT;;AAUA,WAASU,KAAT,GAAgB;AACdC,IAAAA,KAAK,CAAC,oDAAD,EAAsD;AACzDC,MAAAA,MAAM,EAAC,MADkD;AAEzDC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFgD;AAGzDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAElB,QAAAA,QAAQ,EAAEA,QAAZ;AACrBC,QAAAA,QAAQ,EAAEA;AADW,OAAf;AAHmD,KAAtD,CAAL,CAKGkB,IALH,CAKSC,QAAD,IACNA,QAAQ,CAACC,IAAT,EANF,EAQCF,IARD,CAQOG,IAAD,IACJC,OAAO,CAACD,IAAD,CATT,EAWCE,KAXD,CAWQC,KAAD,IAAW;AAChBC,MAAAA,UAAU,CAACD,KAAD,CAAV;AACD,KAbD;AAcA1B,IAAAA,KAAK,CAAC4B,YAAN,CAAmB,SAAnB;AACD;;AAED,WAASC,QAAT,CAAkBC,CAAlB,EAAqBC,CAArB,EAAuB;AACrB9B,IAAAA,QAAQ,GAAG6B,CAAX;AACA5B,IAAAA,QAAQ,GAAG6B,CAAX;AACAjB,IAAAA,KAAK,CAAC,uDAAD,EAAyD;AAC5DC,MAAAA,MAAM,EAAC,MADqD;AAE5DC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFmD;AAG5DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAElB,QAAAA,QAAQ,EAAE6B,CAAZ;AACrB5B,QAAAA,QAAQ,EAAE6B,CADW;AAErBC,QAAAA,cAAc,EAAE;AAFK,OAAf;AAHsD,KAAzD,CAAL,CAMGZ,IANH,CAMSC,QAAD,IAAc;AACpBR,MAAAA,KAAK;AACN,KARD;AASD;;AAED,WAASoB,UAAT,GAAqB;AACnBjC,IAAAA,KAAK,CAACkC,YAAN,CAAmB,OAAnB,EAA4B,OAA5B;AACAlC,IAAAA,KAAK,CAACkC,YAAN,CAAmB,OAAnB,EAA4B,UAA5B;AACAlC,IAAAA,KAAK,CAACkC,YAAN,CAAmB,MAAnB,EAA2B,UAA3B,EAAuC,OAAvC,EAAgD;AAACC,MAAAA,IAAI,EAAC;AAAN,KAAhD;AACA7B,IAAAA,WAAW,CAAC,OAAD,CAAX,CAJmB,CAKnB;AACA;AACD;;AAED,WAASkB,OAAT,CAAiBD,IAAjB,EAAsB;AACpBvB,IAAAA,KAAK,CAACkC,YAAN,CAAmB,MAAnB,EAA2B,OAA3B,EAAoCX,IAAI,CAACa,OAAzC,EAAkD;AAACD,MAAAA,IAAI,EAAC;AAAN,KAAlD;AACAnC,IAAAA,KAAK,CAACkC,YAAN,CAAmB,MAAnB,EAA2B,UAA3B,EAAuCjC,QAAvC,EAAiD;AAACkC,MAAAA,IAAI,EAAC;AAAN,KAAjD;AACAnC,IAAAA,KAAK,CAACkC,YAAN,CAAmB,MAAnB,EAA2B,UAA3B,EAAuC,MAAvC,EAA+C;AAACC,MAAAA,IAAI,EAAC;AAAN,KAA/C;AACA7B,IAAAA,WAAW,CAAC,MAAD,CAAX,CAJoB,CAKpB;AACD;;AAED,WAASqB,UAAT,CAAoBD,KAApB,EAA0B;AACxBW,IAAAA,SAAS,CAAC,qBAAD,CAAT;AACD;;AAED9B,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBH,QAA5B;;AACA,MAAGA,QAAQ,KAAK,MAAhB,EAAuB;AACnB,wBACE;AAAA,6BACA;AAAK,QAAA,KAAK,EAAC,gBAAX;AAAA,gCACE;AAAK,UAAA,KAAK,EAAC,2CAAX;AAAA,kCACA;AAAG,YAAA,KAAK,EAAC,cAAT;AAAwB,YAAA,KAAK,EAAE;AAACiC,cAAAA,KAAK,EAAC,IAAP;AAAaC,cAAAA,MAAM,EAAE;AAArB,aAA/B;AAAyD,YAAA,IAAI,EAAC,GAA9D;AAAA,mCAAkE;AAAK,cAAA,GAAG,EAAC,WAAT;AAAqB,cAAA,GAAG,EAAC,EAAzB;AAA4B,cAAA,KAAK,EAAC,MAAlC;AAAyC,cAAA,KAAK,EAAC;AAA/C;AAAA;AAAA;AAAA;AAAA;AAAlE;AAAA;AAAA;AAAA;AAAA,kBADA,eAEE;AAAK,YAAA,KAAK,EAAC,uBAAX;AAAA,mCACE;AAAQ,cAAA,OAAO,EAAE,MAAMvC,KAAK,CAACwC,UAAN,CAAiB,MAAjB,CAAvB;AAAiD,cAAA,KAAK,EAAC,8CAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAFF,eAKE;AAAK,YAAA,KAAK,EAAC,uBAAX;AAAA,mCACE;AAAS,cAAA,OAAO,EAAE,MAAMxC,KAAK,CAACwC,UAAN,CAAiB,WAAjB,CAAxB;AAAsD,cAAA,KAAK,EAAC,uCAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBALF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAUE;AAAK,UAAA,SAAS,EAAC,0CAAf;AAAA,iCACE;AAAQ,YAAA,SAAS,EAAC,iBAAlB;AAAoC,YAAA,OAAO,EAAEP,UAA7C;AAAA,sBAA0D9B,OAAO,CAACF;AAAlE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA,qBADF;AAkBH,GAnBD,MAoBO,IAAGI,QAAQ,KAAK,OAAhB,EAAwB;AAC3B,wBACE;AAAA,8BACE;AAAK,QAAA,KAAK,EAAC,gBAAX;AAAA,gCACE;AAAK,UAAA,KAAK,EAAC,2CAAX;AAAA,kCACA;AAAK,YAAA,KAAK,EAAC,uBAAX;AAAA,mCACE;AAAS,cAAA,OAAO,EAAE,MAAML,KAAK,CAACwC,UAAN,CAAiB,MAAjB,CAAxB;AAAkD,cAAA,KAAK,EAAC,8CAAxD;AAAA,qCACE;AAAK,gBAAA,GAAG,EAAC,mBAAT;AAA6B,gBAAA,GAAG,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADA,eAME;AAAK,YAAA,KAAK,EAAC,uBAAX;AAAA,mCACE;AAAS,cAAA,OAAO,EAAE,MAAMxC,KAAK,CAACwC,UAAN,CAAiB,MAAjB,CAAxB;AAAkD,cAAA,KAAK,EAAC,8CAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBANF,eASE;AAAK,YAAA,KAAK,EAAC,uBAAX;AAAA,mCACE;AAAS,cAAA,OAAO,EAAE,MAAMxC,KAAK,CAACwC,UAAN,CAAiB,WAAjB,CAAxB;AAAsD,cAAA,KAAK,EAAC,uCAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBATF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAcE;AAAK,UAAA,SAAS,EAAC,0CAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAA,mCACE;AAAQ,cAAA,KAAK,EAAC,uBAAd;AAAsC,cAAA,OAAO,EAAE,MAAMH,SAAS,CAAC,eAAD,CAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAA,mCACE;AAAQ,cAAA,KAAK,EAAC,iBAAd;AAAgC,cAAA,OAAO,EAAE,MAAMA,SAAS,CAAC,eAAD,CAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAwBE,QAAC,WAAD;AAAa,QAAA,kBAAkB,EAAER;AAAjC;AAAA;AAAA;AAAA;AAAA,cAxBF,eAyBE;AAAK,QAAA,KAAK,EAAC,YAAX;AAAwB,QAAA,EAAE,EAAC,eAA3B;AAA2C,uBAAY,MAAvD;AAA8D,2BAAgB,yBAA9E;AAAwG,QAAA,QAAQ,EAAC,IAAjH;AAAA,+BACE;AAAK,UAAA,KAAK,EAAC,oCAAX;AAAA,iCACE;AAAK,YAAA,KAAK,EAAC,eAAX;AAAA,oCACE;AAAK,cAAA,KAAK,EAAC,cAAX;AAAA,sCACE;AAAI,gBAAA,KAAK,EAAC,aAAV;AAAwB,gBAAA,EAAE,EAAC,yBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAQ,gBAAA,IAAI,EAAC,QAAb;AAAsB,gBAAA,KAAK,EAAC,WAA5B;AAAwC,mCAAgB,OAAxD;AAAgE,8BAAW;AAA3E;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAKE;AAAK,cAAA,KAAK,EAAC,YAAX;AAAA,sCACA;AAAK,gBAAA,KAAK,EAAC,kBAAX;AAAA,wCACE;AAAM,kBAAA,KAAK,EAAC,kBAAZ;AAA+B,kBAAA,EAAE,EAAC,cAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAO,kBAAA,IAAI,EAAC,MAAZ;AAAmB,kBAAA,KAAK,EAAC,cAAzB;AAAwC,kBAAA,QAAQ,EAAGY,CAAD,IAAOxC,QAAQ,GAAGwC,CAAC,CAACC,MAAF,CAASC,KAA7E;AAAoF,kBAAA,WAAW,EAAC,UAAhG;AAA2G,gCAAW,UAAtH;AAAiI,sCAAiB;AAAlJ;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,eAKA;AAAK,gBAAA,KAAK,EAAC,kBAAX;AAAA,wCACE;AAAM,kBAAA,KAAK,EAAC,kBAAZ;AAA+B,kBAAA,EAAE,EAAC,cAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAO,kBAAA,IAAI,EAAC,UAAZ;AAAuB,kBAAA,KAAK,EAAC,cAA7B;AAA4C,kBAAA,QAAQ,EAAGF,CAAD,IAAOvC,QAAQ,GAAGuC,CAAC,CAACC,MAAF,CAASC,KAAjF;AAAwF,kBAAA,WAAW,EAAC,UAApG;AAA+G,gCAAW,UAA1H;AAAqI,sCAAiB;AAAtJ;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBALA,eASE;AAAK,gBAAA,SAAS,EAAC,+BAAf;AAAA,uCACE;AAAQ,kBAAA,IAAI,EAAC,QAAb;AAAsB,kBAAA,KAAK,EAAC,wCAA5B;AAAqE,qCAAgB,OAArF;AAA6F,kBAAA,OAAO,EAAE,MAAM9B,KAAK,CAAC,eAAD,CAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBATF;AAAA;AAAA;AAAA;AAAA;AAAA,oBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAzBF,eAgDE;AAAK,QAAA,KAAK,EAAC,YAAX;AAAwB,QAAA,EAAE,EAAC,qBAA3B;AAAiD,uBAAY,MAA7D;AAAoE,2BAAgB,yBAApF;AAA8G,QAAA,QAAQ,EAAC,IAAvH;AAAA,+BACA;AAAK,UAAA,KAAK,EAAC,oCAAX;AAAA,iCACE;AAAK,YAAA,KAAK,EAAC,eAAX;AAAA,oCACE;AAAK,cAAA,KAAK,EAAC,cAAX;AAAA,sCACE;AAAI,gBAAA,KAAK,EAAC,aAAV;AAAwB,gBAAA,EAAE,EAAC,yBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAQ,gBAAA,IAAI,EAAC,QAAb;AAAsB,gBAAA,KAAK,EAAC,WAA5B;AAAwC,mCAAgB,OAAxD;AAAgE,8BAAW;AAA3E;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAKE;AAAK,cAAA,KAAK,EAAC,YAAX;AAAA,sCACA;AAAK,gBAAA,KAAK,EAAC,kBAAX;AAAA,wCACE;AAAM,kBAAA,KAAK,EAAC,kBAAZ;AAA+B,kBAAA,EAAE,EAAC,cAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAO,kBAAA,IAAI,EAAC,MAAZ;AAAmB,kBAAA,KAAK,EAAC,yBAAzB;AAAmD,kBAAA,QAAQ,EAAG4B,CAAD,IAAOxC,QAAQ,GAAGwC,CAAC,CAACC,MAAF,CAASC,KAAxF;AAA+F,kBAAA,EAAE,EAAC,0BAAlG;AAA6H,sCAAiB,qDAA9I;AAAoM,kBAAA,QAAQ;AAA5M;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE;AAAK,kBAAA,EAAE,EAAC,kCAAR;AAA2C,kBAAA,KAAK,EAAC,kBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,eAQA;AAAK,gBAAA,KAAK,EAAC,kBAAX;AAAA,wCACE;AAAM,kBAAA,KAAK,EAAC,kBAAZ;AAA+B,kBAAA,EAAE,EAAC,cAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAO,kBAAA,IAAI,EAAC,UAAZ;AAAuB,kBAAA,KAAK,EAAC,yBAA7B;AAAuD,kBAAA,QAAQ,EAAGF,CAAD,IAAOvC,QAAQ,GAAGuC,CAAC,CAACC,MAAF,CAASC,KAA5F;AAAmG,kBAAA,EAAE,EAAC,0BAAtG;AAAiI,sCAAiB,qDAAlJ;AAAwM,kBAAA,QAAQ;AAAhN;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE;AAAK,kBAAA,EAAE,EAAC,kCAAR;AAA2C,kBAAA,KAAK,EAAC,kBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,sBARA,eAeE;AAAK,gBAAA,SAAS,EAAC,+BAAf;AAAA,uCACE;AAAQ,kBAAA,IAAI,EAAC,QAAb;AAAsB,kBAAA,KAAK,EAAC,wCAA5B;AAAqE,qCAAgB,OAArF;AAA6F,kBAAA,OAAO,EAAE,MAAM9B,KAAK,CAAC,eAAD,CAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAfF;AAAA;AAAA;AAAA;AAAA;AAAA,oBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cAhDF;AAAA,oBADF;AAgFD,GAjFI,MAkFH;AACFP,IAAAA,WAAW,CAAC,OAAD,CAAX;AACA,wBACE;AAAA,6BACE;AAAK,QAAA,KAAK,EAAC,gBAAX;AAAA,gCACE;AAAK,UAAA,KAAK,EAAC,2CAAX;AAAA,kCACE;AAAK,YAAA,KAAK,EAAC,uBAAX;AAAA,mCACE;AAAS,cAAA,OAAO,EAAE,MAAMN,KAAK,CAACwC,UAAN,CAAiB,MAAjB,CAAxB;AAAkD,cAAA,KAAK,EAAC,8CAAxD;AAAA,qCACE;AAAK,gBAAA,GAAG,EAAC,mBAAT;AAA6B,gBAAA,GAAG,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAME;AAAK,YAAA,KAAK,EAAC,uBAAX;AAAA,mCACE;AAAS,cAAA,OAAO,EAAE,MAAMxC,KAAK,CAACwC,UAAN,CAAiB,MAAjB,CAAxB;AAAkD,cAAA,KAAK,EAAC,8CAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBANF,eASE;AAAK,YAAA,KAAK,EAAC,uBAAX;AAAA,mCACE;AAAS,cAAA,OAAO,EAAE,MAAMxC,KAAK,CAACwC,UAAN,CAAiB,WAAjB,CAAxB;AAAsD,cAAA,KAAK,EAAC,uCAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBATF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAcE;AAAK,UAAA,SAAS,EAAC,0CAAf;AAAA,iCACE;AAAK,YAAA,KAAK,EAAC,2BAAX;AAAuC,YAAA,IAAI,EAAC,QAA5C;AAAA,mCACE;AAAM,cAAA,KAAK,EAAC,iBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAdF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,qBADF;AA2BD;AACF;;GA3PQzC,M;;KAAAA,M;AA2PP;;AAEF,SAAS6C,UAAT,CAAoBC,KAApB,EAA0B;AACxB,MAAIC,OAAO,GAAG,IAAIpD,SAAS,CAACqD,KAAd,CAAoBC,QAAQ,CAACC,cAAT,CAAwBJ,KAAxB,CAApB,EAAoD;AAChEK,IAAAA,QAAQ,EAAE;AADsD,GAApD,CAAd;AAGAJ,EAAAA,OAAO,CAACD,KAAR,CAAc,MAAd;AACD;;AAAA;;AAED,SAASR,SAAT,CAAmBQ,KAAnB,EAAyB;AACvB,MAAIC,OAAO,GAAG,IAAIpD,SAAS,CAACqD,KAAd,CAAoBC,QAAQ,CAACC,cAAT,CAAwBJ,KAAxB,CAApB,EAAoD;AAChEK,IAAAA,QAAQ,EAAE;AADsD,GAApD,CAAd;AAGAJ,EAAAA,OAAO,CAACK,IAAR;AACD;;AAGD,eAAepD,MAAf","sourcesContent":["import './Header.css';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'jquery/dist/jquery.min.js'\nimport bootstrap from 'bootstrap/dist/js/bootstrap.min.js'\nimport SignUpModal from \"./SignUpModal\"\nimport React, { useEffect,useState} from \"react\";\n\n\nfunction Header(props) { \n  var username = \"\";\n  var password = \"\";\n  const [cookies, setCookies] = useState(props.cookies);\n  const [isLogged, setIsLogged] = useState(props.isLogged);\n  console.log(props.logged)\n\n  /*useEffect(()=>{\n    setCookies(props.cookies);\n    cook = props.cookies;\n    console.log(\"useeffect\");\n  }, [cookies]);*/\n\n  /*var cookies = props.cookies;\n  const [username, setUsername] = useState(props.cookies.username);\n  const [password, setPassword] = useState('');\n  const [logged, setLogged] = useState(props.cookies.isLogged);\n  console.log(\"cookies.isLogged.header = \" + props.cookies.isLogged);\n  console.log(\"logged const header = \" + logged);\n\n  \n  useEffect(() => {\n    if(props.cookies.isLogged !== logged){\n      setLogged(props.cookies.isLogged);\n    }\n    if(props.cookies !== cookies){\n      cookies = props.cookies;\n      setUsername(props.cookies.username);\n      setLogged(props.cookies.isLogged);\n    }\n    console.log(\"changement header = \" + logged);\n  })*/\n\n  /*useEffect(() => {\n    console.log(props.cookies)\n    if(props.cookies.isLogged === 'true'){\n      props.handleLoging('true');\n    }\n    else if(props.cookies.isLogged === 'false'){\n        props.handleLoging('false');\n    }\n  })*/\n\n  useEffect(() => {\n    if(props.cookies.username !== null && props.cookies.username !== undefined){\n      console.log(\"isLogged à true\")\n      var updatedCookies = props.cookies;\n      updatedCookies.isLogged = 'true';\n      setCookies(updatedCookies);\n    }\n    else{\n      setIsLogged(props.cookies.isLogged);\n    }\n  }, [props.cookies, username])\n\n  useEffect(() => {\n    if(cookies === null){\n      var updatedCookies = new Object(); // changer ca pour le faire a la fin du setcookies\n      updatedCookies.isLogged = 'false';\n      setCookies(updatedCookies);\n    }\n    else{\n      setIsLogged(props.cookies.isLogged);\n    }\n  }, [cookies])\n  function login(){\n    fetch(\"https://lauriari-arvr.azurewebsites.net/auth/login\",{\n      method:'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username: username,\n      password: password })\n    }).then((response) => \n      response.json()\n    )\n    .then((data) => \n      cblogin(data)\n    )\n    .catch((error) => {\n      wrongLogin(error);\n    })\n    props.handleLoging('Loading');\n  }\n\n  function register(u, p){\n    username = u;\n    password = p;\n    fetch(\"https://lauriari-arvr.azurewebsites.net/auth/register\",{\n      method:'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username: u,\n      password: p,\n      contentManager: 1})\n    }).then((response) => {\n      login();\n    })\n  }\n\n  function disconnect(){\n    props.handleCookie('false', 'token');\n    props.handleCookie('false', 'username')\n    props.handleCookie('true', 'isLogged', 'false', {path:'/'})\n    setIsLogged('false');\n    //setCookies(null); // probleme de synchro ici \n    //setLogged('false');\n  }\n\n  function cblogin(data){\n    props.handleCookie('true', 'token', data.message, {path:'/'});\n    props.handleCookie('true', 'username', username, {path:'/'});\n    props.handleCookie('true', 'isLogged', 'true', {path:'/'});\n    setIsLogged(\"true\");\n    //setLogged('true');\n  }\n\n  function wrongLogin(error){\n    showModal(\"Sign-In-Modal-Error\");\n  }\n\n  console.log(\"isLogged = \" + isLogged)\n  if(isLogged === 'true'){\n      return(\n        <>\n        <nav class=\"navbar bg-dark\">\n          <div class=\"left-buttons d-flex justify-content-start\">\n          <a class=\"navbar-brand\" style={{width:\"8%\", margin: \"0\"}}href=\"#\"><img src=\"/logo.jpg\" alt=\"\" width=\"100%\" class=\"d-inline-block align-text-top\"></img></a>\n            <div class=\"link p-2 bd-highlight\">\n              <button onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">Home</button>\n            </div>\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('workspace')}class=\"btn btn-link nav-link text-light fs-5\">My Workspace</button>\n            </div>\n          </div>\n          <div className=\"right-buttons d-flex justify-content-end\">\n            <button className=\"btn btn-primary\" onClick={disconnect}>{cookies.username}</button>\n          </div>\n        </nav>\n        </>\n      )\n  }\n    else if(isLogged === 'false'){\n      return (\n        <>\n          <nav class=\"navbar bg-dark\">\n            <div class=\"left-buttons d-flex justify-content-start\">\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">\n                <img src=\"./public/logo.jpg\" alt=\"\" ></img>\n              </button>\n            </div>\n              <div class=\"link p-2 bd-highlight\">\n                <button  onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">Home</button>\n              </div>\n              <div class=\"link p-2 bd-highlight\">\n                <button  onClick={() => props.handlePage('workspace')}class=\"btn btn-link nav-link text-light fs-5\">My Workspace</button>\n              </div>\n            </div>\n            <div className=\"right-buttons d-flex justify-content-end\">\n              <div className=\"p-2 bd-highlight\">\n                <button class=\"btn btn-outline-light\" onClick={() => showModal('Sign-In-Modal')}>Login</button>\n              </div>\n              <div className=\"p-2 bd-highlight\">\n                <button class=\"btn btn-warning\" onClick={() => showModal('Sign-Up-Modal')}>Sign-Up</button>\n              </div>\n            </div>\n          </nav>\n          <SignUpModal handleRegistration={register}></SignUpModal>\n          <div class=\"modal fade\" id=\"Sign-In-Modal\" aria-hidden=\"true\" aria-labelledby=\"exampleModalToggleLabel\" tabindex=\"-1\">\n            <div class=\"modal-dialog modal-dialog-centered\">\n              <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                  <h5 class=\"modal-title\" id=\"exampleModalToggleLabel\">Login to your account</h5>\n                  <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n                <div class=\"input-group mb-3\">\n                  <span class=\"input-group-text\" id=\"basic-addon1\">@</span>\n                  <input type=\"text\" class=\"form-control\" onChange={(e) => username = e.target.value} placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n                </div>\n                <div class=\"input-group mb-3\">\n                  <span class=\"input-group-text\" id=\"basic-addon1\">Password</span>\n                  <input type=\"password\" class=\"form-control\" onChange={(e) => password = e.target.value} placeholder=\"Password\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n                </div>\n                  <div className=\"d-flex justify-content-center\">\n                    <button type=\"submit\" class=\"btn btn-primary justify-content-center\" data-bs-dismiss=\"modal\" onClick={() => login(\"Sign-In-Modal\")}>Sign-In</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal fade\" id=\"Sign-In-Modal-Error\" aria-hidden=\"true\" aria-labelledby=\"exampleModalToggleLabel\" tabindex=\"-1\">\n          <div class=\"modal-dialog modal-dialog-centered\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"exampleModalToggleLabel\">Login to your account</h5>\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n              </div>\n              <div class=\"modal-body\">\n              <div class=\"input-group mb-3\">\n                <span class=\"input-group-text\" id=\"basic-addon1\">Username</span>\n                <input type=\"text\" class=\"form-control is-invalid\" onChange={(e) => username = e.target.value} id=\"validationServerUsername\" aria-describedby=\"inputGroupPrepend3 validationServerUsernameFeedback\" required></input>\n                <div id=\"validationServerUsernameFeedback\" class=\"invalid-feedback\">\n                  Enter your username again.\n                </div>\n              </div>\n              <div class=\"input-group mb-3\">\n                <span class=\"input-group-text\" id=\"basic-addon1\">Password</span>\n                <input type=\"password\" class=\"form-control is-invalid\" onChange={(e) => password = e.target.value} id=\"validationServerUsername\" aria-describedby=\"inputGroupPrepend3 validationServerUsernameFeedback\" required></input>\n                <div id=\"validationServerUsernameFeedback\" class=\"invalid-feedback\">\n                  Enter your password again.\n                </div>\n              </div>\n                <div className=\"d-flex justify-content-center\">\n                  <button type=\"submit\" class=\"btn btn-primary justify-content-center\" data-bs-dismiss=\"modal\" onClick={() => login(\"Sign-In-Modal\")}>Sign-In</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        </>    \n      );\n    }\n  else{\n    setIsLogged('false');\n    return (\n      <>\n        <nav class=\"navbar bg-dark\">\n          <div class=\"left-buttons d-flex justify-content-start\">\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">\n                <img src=\"./public/logo.jpg\" alt=\"\" ></img>\n              </button>\n            </div>\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">Home</button>\n            </div>\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('workspace')}class=\"btn btn-link nav-link text-light fs-5\">My Workspace</button>\n            </div>\n          </div>\n          <div className=\"right-buttons d-flex justify-content-end\">\n            <div class=\"spinner-border text-light\" role=\"status\">\n              <span class=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n        </nav>\n        </>\n      \n    );\n\n    \n  }\n} ;\n\nfunction closeModal(modal){\n  var myModal = new bootstrap.Modal(document.getElementById(modal), {\n    keyboard: false\n  });\n  myModal.modal('hide');\n};\n\nfunction showModal(modal){\n  var myModal = new bootstrap.Modal(document.getElementById(modal), {\n    keyboard: false\n  });\n  myModal.show();\n}\n\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}